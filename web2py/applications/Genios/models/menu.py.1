# -*- coding: utf-8 -*-
# this file is released under public domain and you can use without limitations
import sys
#########################################################################
## Customize your APP title, subtitle and menus here
#########################################################################

response.title = request.application.replace('_',' ').title()
response.subtitle = ''

## read more at http://dev.w3.org/html5/markup/meta.name.html
response.meta.author = 'Your Name <you@example.com>'
response.meta.keywords = 'web2py, python, framework'
response.meta.generator = 'Web2py Web Framework'

## your http://google.com/analytics id
response.google_analytics_id = None

#########################################################################
## this is the main application menu add/remove items as required
#########################################################################

#TESTA SE O PERFIL É O CORRETO E CRIA O MENU CORRETO
if filter( lambda a: a.id_perfil == session.perfilUser.id_perfil and  a.nome == "Responsavel", session.SetPerfis):
    response.menu = [
        (T('Home'), False, URL('responsavel', 'index'), []),
        (T('Perfil'),False,URL('responsavel','alterar'), []),
        (T('Aulas'), False, URL('responsavel', 'marcar_aulas'), []),
        (T('Logout'), False, URL('autenticacao', 'logout'), [])

    ]
elif filter( lambda a: a.id_perfil == session.perfilUser.id_perfil and  a.nome == "Professor", session.SetPerfis):
    response.menu = [
        (T('Home'), False, URL('professor', 'index'), []),
        (T('Responsavel'),False,URL('professor','alterar')),
        (T('Logout'), False, URL('autenticacao', 'logout'), [])
    ]
elif filter( lambda a: a.id_perfil == session.perfilUser.id_perfil and  a.nome == "Administrador", session.SetPerfis):
    response.menu = [
        (T('Home'), False, URL('administrador', 'index'), []),
        (T('Cadastro de Professores'),False,URL('administradorl','cadastrar_professor'), []),
        (T('Regiões'), False, URL('administrador', 'cidades'), []),
        (T('Matérias'), False, URL('administrador', 'cadastrarmateria'), []),
        (T('Logout'), False, URL('autenticacao', 'logout'), [])

    ]
